<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE — ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: docs/can-guides/commitment/recipes/modals/modals.md
	@page guides/recipes/modals
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Multiple Modals | intermediate recipes | Guides | CanJS — Build CRUD apps in fewer lines of code.</title>
	<meta name="description" content="This intermediate guide shows how to create a multiple modal form.">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta property="og:image" content="https://www.bitovi.com/hubfs/open-source/os-canjs.png">
	<meta property="og:description" content="This intermediate guide shows how to create a multiple modal form.">
	<meta property="og:title" content="Multiple Modals | intermediate recipes | Guides | CanJS — Build CRUD apps in fewer lines of code.">
	<script type="application/ld+json">
		{
			"@context": "http://www.schema.org",
			"@type": "SoftwareSourceCode",
			"applicationCategory": "DeveloperApplication",
			"brand": "Bitovi",
			"category": "JavaScript Frameworks",
			"codeRepository": "https://github.com/canjs/canjs",
			"description": "This intermediate guide shows how to create a multiple modal form.",
			"image": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"license": "https://github.com/canjs/canjs/blob/master/license.md",
			"logo": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"name": "Multiple Modals | intermediate recipes | Guides | CanJS — Build CRUD apps in fewer lines of code.",
			"programmingLanguage": "JavaScript",
			"softwareVersion" : "6.4.0"
		}
	</script>
	
		<link rel="stylesheet" type="text/css" href="../../static/bundles/bit-docs-site/static.css">
		<link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/docs/images/canjs_favicon.ico">
		<link rel="apple-touch-icon" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon" sizes="72x72" href="../../../docs/images/canjs_favicon_72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="../../../docs/images/canjs_favicon_114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../../../docs/images/canjs_favicon_128x128.png">
		<link rel="apple-touch-icon" sizes="144x144" href="../../../docs/images/canjs_favicon_144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../../../docs/images/canjs_favicon_152x152.png">
		<meta content="yes" name="apple-mobile-web-app-capable">
	  	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-11', 'auto');
			ga('send', 'pageview');
		</script>
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
	  	<div data-current-page="guides/recipes/modals" id="everything">
  <div class="header">
    
	<label for="nav-trigger">Menu</label>
	<div class="brand">
		<div class="logo">
			<a href="../../../index.html" alt="CanJS"></a>
			<div class="dropdown project-dropdown">
				<a href="https://donejs.com/">DoneJS</a>
				<a href="https://stealjs.com/">StealJS</a>
				<a href="https://jquerypp.com/">jQuery++</a>
				<a href="https://funcunit.com/">FuncUnit</a>
				<a href="https://documentjs.com/">DocumentJS</a>
			</div>
		</div>
		<div class="version">
			<div class="version-number">
				6.4.0
			</div>
			<div class="dropdown version-dropdown">
				
					<a href="https://v5.canjs.com">5.33.2</a>
				
					<a href="https://v4.canjs.com">4.3.0</a>
				
					<a href="https://v3.canjs.com">3.14.1</a>
				
					<a href="https://v2.canjs.com">2.3.35</a>
				
			</div>
		</div>
	</div>


	
	<ul class="top-right-links">
		
			
				
					<li class="">
						<a class="page"
							href="../../about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
					</li>
				
			
		
			
				
					<li class="current">
						<a class="page"
							href="../../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
					</li>
				
			
		
	</ul>



<div class="search-section">
	<div class="search-bar">
	<div class="search-wrap" style="display:none;">
		<span class="search-icon"></span>
		<input
			type="text"
			size="6"
			class="search"
			placeholder="Search"
			autocomplete="off"
			autocorrect="off"
			autocapitalize="none"
			spellcheck="false"/>
			<span class="search-icon-cancel"></span>
	</div>
</div>

	<div class="search-bar-container">
	</div>
	<div class="search-results-container">
	<div class="search-results-wrap"></div>
</div>

</div>
<ul class="top-right-bitovi">
	<li class="dropdown">
		<a href="https://www.bitovi.com" class="bitovi by-bitovi">Bitovi</a>
		<ul class="dropdown-menu">
			<li><a href="https://www.bitovi.com/">Bitovi.com</a></li>
			<li><a href="https://www.bitovi.com/blog">Blog</a></li>
			<li><a href="https://www.bitovi.com/design">Design</a></li>
			<li><a href="https://www.bitovi.com/development">Development</a></li>
			<li><a href="https://www.bitovi.com/training">Training</a></li>
			<li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
			<li><a href="https://www.bitovi.com/about">About</a></li>
			<li><a href="https://www.bitovi.com/contact">Contact Us</a></li>
		</ul>
	</li>
</ul>

  </div>
  <div id="left" class="column">

      <div class="nav-menu">
        
            
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
						
	<ul>
		
			
				
					<li>
						<span>getting started</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../crud-beginner.html"
							title="Learn how to build a basic CRUD app with CanJS in 30 minutes.">
							CRUD Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../setup.html"
							title="Learn how to install CanJS in your environment.">
							Setting Up CanJS
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../technology-overview.html"
							title="Learn the basics of CanJS’s technology.">
							Technology Overview
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>topics</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../html.html"
							title="Learn how to update HTML and listen to user interactions.">
							HTML
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../routing.html"
							title="Learn how to make your application respond to changes in the URL and work with the browser’s back and forward buttons.">
							Routing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../data.html"
							title="Learn how to use can-connect to integrate service layer APIs into your CanJS application.">
							Service Layer
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../debugging.html"
							title="Learn how to debug CanJS applications.">
							Debugging
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../forms.html"
							title="Learn how to create amazing &lt;form&gt;s with CanJS.">
							Forms
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../testing.html"
							title="Learn how to test CanJS applications.">
							Testing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../logic.html"
							title="Learn how to write observables in an organized, maintainable, and testable way.">
							Logic
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../server-side-rendering.html"
							title="Learn how to set up SSR for CanJS.">
							Server-Side Rendering
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>app guides</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../chat.html"
							title="This guide will walk you through building a real-time chat application with CanJS’s Core libraries.  It takes about 30 minutes to complete.">
							Chat Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../todomvc.html"
							title="This guide will walk you through building a slightly modified version of TodoMVC with CanJS’s Core libraries and can-fixture. It takes about 1 hour to complete.">
							TodoMVC Guide
						</a>
						

					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="todomvc-with-steal.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations covering CanJS core libraries.">
							TodoMVC with StealJS
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>beginner recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="canvas-clock.html"
							title="This beginner guide walks you through building a clock with the Canvas API.">
							Canvas Clock
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="credit-card-simple.html"
							title="This beginner guide walks through building a very simple credit card payment form.  It uses Stripe.js v2 API to create a token which can be used to create a charge.  It also performs simple validation on the payment form values.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="file-navigator-simple.html"
							title="This beginner guide walks you through building a simple file navigation widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.0.0. Check out the file-navigator-advanced for an example that makes AJAX requests for its data and uses can-stache-element.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="signup-simple.html"
							title="This beginner guide walks through building simple signup, login forms and a logout button.">
							Signup and Login
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="video-player.html"
							title="This beginner guide walks you through building custom video controls around a video element.">
							Video Player
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="weather-report-simple.html"
							title="This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.2.">
							Weather Report
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>intermediate recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="cta-bus-map.html"
							title="This intermediate guide walks you through showing Chicago Transit Authority (CTA) bus locations on a Google Map. You&#x27;ll learn how to create a StacheElement that integrates with 3rd party widgets.">
							CTA Bus Map
						</a>
						

					</li>
				
			
		
			
				
					<li class="current
           						
           						expanded">
						<a class="page"
							href="modals.html"
							title="This intermediate guide shows how to create a multiple modal form.">
							Multiple Modals
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="text-editor.html"
							title="This intermediate guide walks you through building a basic rich text editor.">
							Text Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="tinder-carousel.html"
							title="This intermediate guide walks you through building a Tinder-like carousel. Learn how to build apps that use dragging user interactions.">
							Tinder Carousel
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>advanced recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="credit-card-advanced.html"
							title="This advanced guide walks through building a simple credit card payment form with validations. It doesn’t use can-define. Instead it uses Kefir.js streams to make a ViewModel. can-kefir is used to make the Kefir streams observable to can-stache.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="file-navigator-advanced.html"
							title="This advanced guide walks you through building a file navigation widget that requests data with fetch. It takes about 45 minutes to complete.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="playlist-editor.html"
							title="Learn how to use YouTube’s API to search for videos and make a playlist.  This makes authenticated requests with OAuth2. It uses jQuery++ for drag/drop events. It shows using custom attributes and custom events.  This advanced guide takes an hour to complete.">
							Playlist Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="search-list-details.html"
							title="This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.">
							Search, List, Details
						</a>
						

					</li>
				
			
		
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>upgrade</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-3.html"
							title="This guide walks you through the step-by-step process to upgrade a 2.x app to CanJS 3.">
							Migrating to CanJS 3
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-4.html"
							title="This guide walks you through the step-by-step process to upgrade a 3.x app to CanJS 4.">
							Migrating to CanJS 4
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-5.html"
							title="This guide walks you through the process to upgrade a 4.x app to CanJS 5.x.">
							Migrating to CanJS 5
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-6.html"
							title="This guide walks you through the process to upgrade a 5.x app to CanJS 6.x.">
							Migrating to CanJS 6
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../upgrade/using-codemods.html"
							title="Learn how to migrate your app to CanJS 6 using can-migrate.">
							Using Codemods
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>other</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../api.html"
							title="This page walks through how to use and understand CanJS’s API documentation.">
							Reading the API Docs
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
						

					</li>
				
			
		
	</ul>


        
      </div>
      <div class="social-side-container">
        <ul class="social-side">
  <li>
    <a class="header-mobile github" href="https://github.com/canjs/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/github.png">GitHub</a>
  </li>
  <li>
    <a class="header-mobile twitter" href="https://twitter.com/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/twitter.png">Twitter</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/community/slack" target="_blank">Chat</a>
  </li>
  <li>
    <a class="header-mobile" href="https://forums.bitovi.com/c/canjs" target="_blank">Forum</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/blog/topic/canjs" target="_blank">News</a>
  </li>
  <li></li>
</ul>

      </div>
      <div class="by-bitovi-container">
        <a href="https://www.bitovi.com" target="_blank" class="bitovi by-bitovi">Bitovi</a>
      </div>

  </div>
  <div id="right" class="column">

      <article>
  <section class="title">
	<div class="page-type">
		<h1>Multiple Modals</h1>
			<ul class="title-social">
				
				
				<li>
					<a class="button-link" href="//github.com/canjs/canjs/edit/master/docs/can-guides/commitment/recipes/modals/modals.md">Edit on GitHub</a>
				</li>
				
			</ul>
	</div>
	<div class="clear-both"></div>
	
  
	<section class="description">
    <p>This intermediate guide shows how to create a multiple modal form.</p>

</section>

  
	
</section>
<section class="on-this-page-table">
	<!--<h2 class="on-this-page-title" data-skip>Page Content</h2>-->
</section>










  
    <section class="body">
    <p>The final widget looks like:</p>
<p class="codepen" data-height="426" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="pozKzZo" style="height: 426px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="CanJS 6.0 - Multiple Modals - Final">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/pozKzZo/">
  CanJS 6.0 - Multiple Modals - Final</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>The following sections are broken down the following parts:</p>
<ul>
<li><p><strong>The problem</strong> - A description of what the section is trying to accomplish.</p></li>
<li><p><strong>What you need to know</strong> - Information about CanJS that is useful for solving the problem.</p></li>
<li><p><strong>How to verify it works</strong> - How to make sure the solution works if it’s not obvious.</p></li>
<li><p><strong>The solution</strong> - The solution to the problem.</p></li>
</ul>
<h2>Setup</h2>
<h3>The problem</h3>
<p>In this section, we will fork <a href="https://codepen.io/bitovi/pen/OJLdJvj?editors=1000">this CodePen</a> that contains some starting code that we will modify to use modals instead of adding
each form directly in the page.</p>
<h3>What you need to know</h3>
<p>The CodePen creates and several basic components:</p>
<ul>
<li><code>&lt;occupation-questions&gt;</code> - A form that asks the sorts of things the user does.</li>
<li><code>&lt;diva-questions&gt;</code> - A form that asks for expenses for divas.</li>
<li><code>&lt;programmer-questions&gt;</code> - A form that asks for a programmer's programming language.</li>
<li><code>&lt;income-questions&gt;</code> - A form that asks how the user gets paid.</li>
<li><code>&lt;my-app&gt;</code> - The main application component.  It uses all of the above components
to update its value.</li>
</ul>
<p><code>&lt;my-app&gt;</code> is mounted in the <code>HTML</code> tab as follows:</p>
<pre><code class="language-html">&lt;my-app&gt;&lt;/my-app&gt;
</code></pre>
<h3>The solution</h3>
<p><strong>START THIS TUTORIAL BY CLONING THE FOLLOWING CODEPEN</strong>:</p>
<blockquote>
<p>Click the <code>EDIT ON CODEPEN</code> button.  The CodePen will open in a new window. In that new window,  click <code>FORK</code>.</p>
</blockquote>
<p class="codepen" data-height="316" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="OJLdJvj" style="height: 316px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="CanJS 6.0 - Multiple Modals - Setup">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/OJLdJvj/">
  CanJS 6.0 - Multiple Modals - Setup</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>This CodePen:</p>
<ul>
<li>Loads all of CanJS’s packages. Each package is available as a named export.  For example <a href="../../can-stache-element.html" title="Create a custom element with ObservableObject-like properties and stache views.">can-stache-element</a>
is available as <code>import { StacheElement } from &quot;can&quot;</code>.</li>
</ul>
<h2>Create a simple modal</h2>
<h3>The problem</h3>
<p>In this section, we will:</p>
<ul>
<li>Create a simple <code>&lt;my-modal&gt;</code> custom element that will put its &quot;light DOM&quot;
within a modal window.</li>
<li>Show the <code>&lt;diva-questions&gt;</code> component when <code>isDiva</code> is set to true.</li>
</ul>
<h3>What you need to know</h3>
<ul>
<li><p>Use <code>{{# if(value) }} HTML {{/ if }}</code> to show <code>HTML</code> when <code>value</code> is true.</p></li>
<li><p>Content between custom element tags like:</p>
<pre><code class="language-js">&lt;custom-element&gt;SOME CONTENT&lt;/custom-element&gt;
</code></pre>
<p>Is available to be rendered with the <code>&lt;content&gt;</code> element within the
custom element’s <code>view</code>.  The following would put <code>SOME CONTENT</code> within
an <code>&lt;h1&gt;</code> element:</p>
<pre><code class="language-js">class CustomElement extends StacheElement {
  static view = `&lt;h1&gt;&lt;content&gt;&lt;/content&gt;&lt;/h1&gt;`;
}
customElements.define(&quot;custom-element&quot;, CustomElement);
</code></pre></li>
</ul>
<h3>How to verify it works</h3>
<p>If you click the <code>isDiva</code> radio input, a modal window with the <code>&lt;diva-questions&gt;</code>
form should appear.</p>
<h3>The solution</h3>
<p>Update the <code>JS</code> tab to:</p>
<pre><code class="language-js">import {
    stache,
    stacheConverters,
    StacheElement,
    type,
    ObservableArray
} from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

stache.addConverter(stacheConverters);

class OccupationQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Occupation&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;
                Are you a diva?
                &lt;input id=&quot;diva-yes&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, true)&quot;&gt;
                &lt;label for=&quot;diva-yes&quot;&gt;yes&lt;/label&gt;

                &lt;input id=&quot;diva-no&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, false)&quot;&gt;
                &lt;label for=&quot;diva-no&quot;&gt;no&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;
            Do you program?
                &lt;input
                    id=&quot;programmer-yes&quot;
                    type=&quot;radio&quot;
                    checked:bind=&quot;equal(this.isProgrammer, true)&quot;
                &gt;
                &lt;label for=&quot;programmer-yes&quot;&gt;yes&lt;/label&gt;

                &lt;input
                    id=&quot;programmer-no&quot;
                    type=&quot;radio&quot;
                    checked:bind=&quot;equal(this.isProgrammer, false)&quot;
                &gt;
                &lt;label for=&quot;programmer-no&quot;&gt;no&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        isDiva: Boolean,
        isProgrammer: Boolean
    };
}

customElements.define(&quot;occupation-questions&quot;, OccupationQuestions);

class DivaQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Diva Questions&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;Check all expenses that apply:&lt;/p&gt;
            &lt;p&gt;
                &lt;input
                    id=&quot;swagger&quot;
                    type=&quot;checkbox&quot;
                    checked:bind=&quot;boolean-to-inList('Swagger', this.divaExpenses)&quot;
                &gt;
                &lt;label for=&quot;swagger&quot;&gt;Swagger&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;
                &lt;input
                    id=&quot;fame&quot;
                    type=&quot;checkbox&quot;
                    checked:bind=&quot;boolean-to-inList('Fame', this.divaExpenses)&quot;
                &gt;
                &lt;label for=&quot;fame&quot;&gt;Fame&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        divaExpenses: type.Any
    };
}

customElements.define(&quot;diva-questions&quot;, DivaQuestions);

class ProgrammerQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Programmer Questions&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;What is your favorite language?&lt;/p&gt;
            &lt;p&gt;
                &lt;select value:to=&quot;this.programmingLanguage&quot;&gt;
                    &lt;option&gt;C&lt;/option&gt;
                    &lt;option&gt;C++&lt;/option&gt;
                    &lt;option&gt;Java&lt;/option&gt;
                    &lt;option&gt;JavaScript&lt;/option&gt;
                &lt;/select&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        programmingLanguage: String
    };
}

customElements.define(&quot;programmer-questions&quot;, ProgrammerQuestions);

class IncomeQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Income&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;What do you get paid in?&lt;/p&gt;
            &lt;p&gt;
                &lt;select value:bind=&quot;string-to-any(this.paymentType)&quot;&gt;
                    &lt;option value=&quot;undefined&quot;&gt;Select a type&lt;/option&gt;
                    &lt;option&gt;Peanuts&lt;/option&gt;
                    &lt;option&gt;Bread&lt;/option&gt;
                    &lt;option&gt;Tamales&lt;/option&gt;
                    &lt;option&gt;Cheddar&lt;/option&gt;
                    &lt;option&gt;Dough&lt;/option&gt;
                &lt;/select&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Finish&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        paymentType: type.maybeConvert(String)
    };
}

customElements.define(&quot;income-questions&quot;, IncomeQuestions);

class MyModals extends StacheElement {
    static view = `
        &lt;div class=&quot;background&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;modal-container&quot;&gt;
            &lt;content&gt;Supply some content&lt;/content&gt;
        &lt;/div&gt;
    `;
}

customElements.define(&quot;my-modals&quot;, MyModals);

class MyApp extends StacheElement {
    static view = `
        &lt;occupation-questions 
            isDiva:bind=&quot;this.isDiva&quot;
            isProgrammer:bind=&quot;this.isProgrammer&quot;
        /&gt;
        &lt;p&gt;isDiva: {{ this.isDiva }}&lt;/p&gt;
        &lt;p&gt;isProgrammer: {{ this.isProgrammer }}&lt;/p&gt;

        {{# if(this.isDiva) }}
            &lt;my-modals&gt;
                &lt;diva-questions divaExpenses:bind=&quot;this.divaExpenses&quot; /&gt;
            &lt;/my-modals&gt;
        {{/ if }}
        &lt;p&gt;diva expenses: {{ this.divaExpenses.join(', ') }}&lt;/p&gt;

        &lt;programmer-questions programmingLanguage:bind=&quot;this.programmingLanguage&quot; /&gt;
        &lt;p&gt;programmingLanguage: {{ this.programmingLanguage }}&lt;/p&gt;

        &lt;income-questions paymentType:bind=&quot;this.paymentType&quot; /&gt;
        &lt;p&gt;paymentType: {{ this.paymentType }}&lt;/p&gt;
    `;

    static props = {
        // Stateful properties
        isDiva: false,

        divaExpenses: {
            get default() {
                return new ObservableArray();
            }
        },

        isProgrammer: false,
        programmingLanguage: String,
        paymentType: String

        // Derived properties
    };

    // Methods
}

customElements.define(&quot;my-app&quot;, MyApp);

</code></pre>
<div line-highlight='133-142,153-157,only'></div>
<h2>Pass a component instance</h2>
<h3>The problem</h3>
<p>In this section, we are matching the same behavior as the
previous example.  However, we are going to change the <code>&lt;my-modals&gt;</code>
component to take a component instance to render
in a modal instead of &quot;light DOM&quot;.</p>
<h3>What you need to know</h3>
<ul>
<li><p>Use <code>{ get default() { /* ... */ }}</code> to create a default value for a property:</p>
<pre><code class="language-js">class MyComponent extends StacheElement {
  static props = {
    dueDate: {
      get default(){
        return new Date();
      }
    }
  };
}
</code></pre></li>
<li><p>Component instances can be created like:</p>
<pre><code class="language-js">const component = new ProgrammerQuestions().initialize({
  programmingLanguage: &quot;JS&quot;
});
</code></pre>
<p>This is roughly equivalent to:</p>
<pre><code class="language-html">&lt;programmer-questions programmingLanguage:from=&quot;'JS'&quot; /&gt;
</code></pre></li>
<li><p>Use <a href="../../can-value.html" title="Get an observable that’s bound to a specific property on another object.">can-value</a> and <a href="../../can-stache-element/lifecycle-methods.bindings.html" title="Programmatically instantiate a component">bindings</a> to setup a two-way binding from one component to another:</p>
<pre><code class="language-js">static props = {
  get default() {
    return new ProgrammerQuestions().bindings({
      programmingLanguage: value.bind(this, &quot;programmingLanguage&quot;)
    });
  }
};
</code></pre>
<p>This is roughly equivalent to:</p>
<pre><code class="language-html">&lt;programmer-questions programmingLanguage:bind=&quot;this.programmingLanguage&quot; /&gt;
</code></pre></li>
<li><p>Render a component instance with <code>{{ component }}</code>.</p></li>
</ul>
<h3>The solution</h3>
<p>Update the <code>JS</code> tab to:</p>
<pre><code class="language-js">import {
    stache,
    stacheConverters,
    StacheElement,
    type,
    ObservableArray
} from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

stache.addConverter(stacheConverters);

class OccupationQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Occupation&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;
                Are you a diva?
                &lt;input id=&quot;diva-yes&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, true)&quot;&gt;
                &lt;label for=&quot;diva-yes&quot;&gt;yes&lt;/label&gt;

                &lt;input id=&quot;diva-no&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, false)&quot;&gt;
                &lt;label for=&quot;diva-no&quot;&gt;no&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;
            Do you program?
                &lt;input
                    id=&quot;programmer-yes&quot;
                    type=&quot;radio&quot;
                    checked:bind=&quot;equal(this.isProgrammer, true)&quot;
                &gt;
                &lt;label for=&quot;programmer-yes&quot;&gt;yes&lt;/label&gt;

                &lt;input
                    id=&quot;programmer-no&quot;
                    type=&quot;radio&quot;
                    checked:bind=&quot;equal(this.isProgrammer, false)&quot;
                &gt;
                &lt;label for=&quot;programmer-no&quot;&gt;no&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        isDiva: Boolean,
        isProgrammer: Boolean
    };
}

customElements.define(&quot;occupation-questions&quot;, OccupationQuestions);

class DivaQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Diva Questions&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;Check all expenses that apply:&lt;/p&gt;
            &lt;p&gt;
                &lt;input
                    id=&quot;swagger&quot;
                    type=&quot;checkbox&quot;
                    checked:bind=&quot;boolean-to-inList('Swagger', this.divaExpenses)&quot;
                &gt;
                &lt;label for=&quot;swagger&quot;&gt;Swagger&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;
                &lt;input
                    id=&quot;fame&quot;
                    type=&quot;checkbox&quot;
                    checked:bind=&quot;boolean-to-inList('Fame', this.divaExpenses)&quot;
                &gt;
                &lt;label for=&quot;fame&quot;&gt;Fame&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        divaExpenses: type.Any
    };
}

customElements.define(&quot;diva-questions&quot;, DivaQuestions);

class ProgrammerQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Programmer Questions&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;What is your favorite language?&lt;/p&gt;
            &lt;p&gt;
                &lt;select value:to=&quot;this.programmingLanguage&quot;&gt;
                    &lt;option&gt;C&lt;/option&gt;
                    &lt;option&gt;C++&lt;/option&gt;
                    &lt;option&gt;Java&lt;/option&gt;
                    &lt;option&gt;JavaScript&lt;/option&gt;
                &lt;/select&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        programmingLanguage: String
    };
}

customElements.define(&quot;programmer-questions&quot;, ProgrammerQuestions);

class IncomeQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Income&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;What do you get paid in?&lt;/p&gt;
            &lt;p&gt;
                &lt;select value:bind=&quot;string-to-any(this.paymentType)&quot;&gt;
                    &lt;option value=&quot;undefined&quot;&gt;Select a type&lt;/option&gt;
                    &lt;option&gt;Peanuts&lt;/option&gt;
                    &lt;option&gt;Bread&lt;/option&gt;
                    &lt;option&gt;Tamales&lt;/option&gt;
                    &lt;option&gt;Cheddar&lt;/option&gt;
                    &lt;option&gt;Dough&lt;/option&gt;
                &lt;/select&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Finish&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        paymentType: type.maybeConvert(String)
    };
}

customElements.define(&quot;income-questions&quot;, IncomeQuestions);

class MyModals extends StacheElement {
    static view = `
        &lt;div class=&quot;background&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;modal-container&quot;&gt;
            {{ this.component }}
        &lt;/div&gt;
    `;
}

customElements.define(&quot;my-modals&quot;, MyModals);

class MyApp extends StacheElement {
    static view = `
        &lt;occupation-questions 
            isDiva:bind=&quot;this.isDiva&quot;
            isProgrammer:bind=&quot;this.isProgrammer&quot;
        /&gt;
        &lt;p&gt;isDiva: {{ this.isDiva }}&lt;/p&gt;
        &lt;p&gt;isProgrammer: {{ this.isProgrammer }}&lt;/p&gt;

        {{# if(this.isDiva) }}
            &lt;my-modals component:from=&quot;this.divaQuestions&quot;&gt;&lt;/my-modals&gt;
        {{/ if }}
        &lt;p&gt;diva expenses: {{ this.divaExpenses.join(', ') }}&lt;/p&gt;

        &lt;programmer-questions programmingLanguage:bind=&quot;this.programmingLanguage&quot; /&gt;
        &lt;p&gt;programmingLanguage: {{ this.programmingLanguage }}&lt;/p&gt;

        &lt;income-questions paymentType:bind=&quot;this.paymentType&quot; /&gt;
        &lt;p&gt;paymentType: {{ this.paymentType }}&lt;/p&gt;
    `;

    static props = {
        // Stateful properties
        isDiva: false,

        divaExpenses: {
            get default() {
                return new ObservableArray();
            }
        },

        isProgrammer: false,
        programmingLanguage: String,
        paymentType: String,

        divaQuestions: {
            get default() {
                return new DivaQuestions().bindings({
                    divaExpenses: value.bind(this, &quot;divaExpenses&quot;)
                });
            }
        },
        // Derived properties
    };

    // Methods
}

customElements.define(&quot;my-app&quot;, MyApp);

</code></pre>
<div line-highlight='137,154,179-185,only'></div>
<h2>Show multiple modals in the window</h2>
<h3>The problem</h3>
<p>In this section, we will:</p>
<ul>
<li>Show all form components within a modal box.</li>
<li>Show the <code>&lt;diva-questions&gt;</code> and <code>&lt;programmer-questions&gt;</code> modals only
if their respective questions (<code>isDiva</code> and <code>isProgrammer</code>) checkboxes
are selected.</li>
<li>Remove all the form components from being rendered in the main page content area.</li>
</ul>
<p>We will do this by:</p>
<ul>
<li>Changing <code>&lt;my-modals&gt;</code> to:
<ul>
<li>take an array of component instances.</li>
<li>position the component instances within <code>&lt;div class=&quot;modal-container&quot;&gt;</code> elements
20 pixels apart.</li>
</ul></li>
<li>Changing <code>&lt;my-app&gt;</code> to:
<ul>
<li>create instances for the <code>OccupationQuestions</code>, <code>ProgrammerQuestions</code>, and
<code>IncomeQuestions</code> components.</li>
<li>create a <code>visibleQuestions</code> array that contains only the instances that
should be presented to the user.</li>
</ul></li>
</ul>
<h3>What you need to know</h3>
<ul>
<li><p>Use ES5 getters to transform component's stateful properties to new values.  For example, the following returns <code>true</code> if someone is a diva and a programmer:</p>
<pre><code class="language-js">static props = {
  isDiva: Boolean,
  isProgrammer: Boolean,
  get isDivaAndProgrammer() {
    return this.isDiva &amp;&amp; this.isProgrammer;
  }
};
</code></pre>
<p>This can be used to derive the <code>visibleQuestions</code> array.</p></li>
</ul>
<h3>The solution</h3>
<p>Update the <code>JS</code> tab to:</p>
<pre><code class="language-js">import {
    stache,
    stacheConverters,
    StacheElement,
    type,
    ObservableArray
} from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

stache.addConverter(stacheConverters);

class OccupationQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Occupation&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;
                Are you a diva?
                &lt;input id=&quot;diva-yes&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, true)&quot;&gt;
                &lt;label for=&quot;diva-yes&quot;&gt;yes&lt;/label&gt;

                &lt;input id=&quot;diva-no&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, false)&quot;&gt;
                &lt;label for=&quot;diva-no&quot;&gt;no&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;
            Do you program?
                &lt;input
                    id=&quot;programmer-yes&quot;
                    type=&quot;radio&quot;
                    checked:bind=&quot;equal(this.isProgrammer, true)&quot;
                &gt;
                &lt;label for=&quot;programmer-yes&quot;&gt;yes&lt;/label&gt;

                &lt;input
                    id=&quot;programmer-no&quot;
                    type=&quot;radio&quot;
                    checked:bind=&quot;equal(this.isProgrammer, false)&quot;
                &gt;
                &lt;label for=&quot;programmer-no&quot;&gt;no&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        isDiva: Boolean,
        isProgrammer: Boolean
    };
}

customElements.define(&quot;occupation-questions&quot;, OccupationQuestions);

class DivaQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Diva Questions&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;Check all expenses that apply:&lt;/p&gt;
            &lt;p&gt;
                &lt;input
                    id=&quot;swagger&quot;
                    type=&quot;checkbox&quot;
                    checked:bind=&quot;boolean-to-inList('Swagger', this.divaExpenses)&quot;
                &gt;
                &lt;label for=&quot;swagger&quot;&gt;Swagger&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;
                &lt;input
                    id=&quot;fame&quot;
                    type=&quot;checkbox&quot;
                    checked:bind=&quot;boolean-to-inList('Fame', this.divaExpenses)&quot;
                &gt;
                &lt;label for=&quot;fame&quot;&gt;Fame&lt;/label&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        divaExpenses: type.Any
    };
}

customElements.define(&quot;diva-questions&quot;, DivaQuestions);

class ProgrammerQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Programmer Questions&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;What is your favorite language?&lt;/p&gt;
            &lt;p&gt;
                &lt;select value:to=&quot;this.programmingLanguage&quot;&gt;
                    &lt;option&gt;C&lt;/option&gt;
                    &lt;option&gt;C++&lt;/option&gt;
                    &lt;option&gt;Java&lt;/option&gt;
                    &lt;option&gt;JavaScript&lt;/option&gt;
                &lt;/select&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        programmingLanguage: String
    };
}

customElements.define(&quot;programmer-questions&quot;, ProgrammerQuestions);

class IncomeQuestions extends StacheElement {
    static view = `
        &lt;h3&gt;Income&lt;/h3&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;p&gt;What do you get paid in?&lt;/p&gt;
            &lt;p&gt;
                &lt;select value:bind=&quot;string-to-any(this.paymentType)&quot;&gt;
                    &lt;option value=&quot;undefined&quot;&gt;Select a type&lt;/option&gt;
                    &lt;option&gt;Peanuts&lt;/option&gt;
                    &lt;option&gt;Bread&lt;/option&gt;
                    &lt;option&gt;Tamales&lt;/option&gt;
                    &lt;option&gt;Cheddar&lt;/option&gt;
                    &lt;option&gt;Dough&lt;/option&gt;
                &lt;/select&gt;
            &lt;/p&gt;
            &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Finish&lt;/button&gt;&lt;/p&gt;
        &lt;/div&gt;
    `;

    static props = {
        paymentType: type.maybeConvert(String)
    };
}

customElements.define(&quot;income-questions&quot;, IncomeQuestions);

class MyModals extends StacheElement {
    static view = `
        {{# for(componentData of this.componentsToShow) }}
            {{# if(componentData.last) }}
                &lt;div class=&quot;background&quot;&gt;&lt;/div&gt;
            {{/ if }}
            &lt;div
                class=&quot;modal-container&quot;
                style=&quot;margin-top: {{ this.componentData.position }}px; margin-left: {{ this.componentData.position }}px&quot;
            &gt;
                {{ componentData.component }}
            &lt;/div&gt;
        {{/ for }}
    `;

    static props = {
        get componentsToShow() {
            let distance = 20;
            let count = this.components.length;
            let start = -150 - distance / 2 * (count - 1);

            return this.components.map(function(component, i) {
                return {
                    position: start + i * distance,
                    component: component,
                    last: i === count - 1
                };
            });
        }
    };
}

customElements.define(&quot;my-modals&quot;, MyModals);

class MyApp extends StacheElement {
    static view = `
        &lt;my-modals components:from=&quot;this.visibleQuestions&quot;&gt;&lt;/my-modals&gt;

        &lt;p&gt;isDiva: {{ this.isDiva }}&lt;/p&gt;
        &lt;p&gt;isProgrammer: {{ this.isProgrammer }}&lt;/p&gt;
        &lt;p&gt;diva expenses: {{ this.divaExpenses.join(', ') }}&lt;/p&gt;
        &lt;p&gt;programmingLanguage: {{ this.programmingLanguage }}&lt;/p&gt;
        &lt;p&gt;paymentType: {{ this.paymentType }}&lt;/p&gt;
    `;

    static props = {
        // Stateful properties
        isDiva: false,

        divaExpenses: {
            get default() {
                return new ObservableArray();
            }
        },

        isProgrammer: false,
        programmingLanguage: String,
        paymentType: String,

        occupationQuestions: {
            get default() {
                return new OccupationQuestions().bindings({
                    isDiva: value.bind(this, &quot;isDiva&quot;),
                    isProgrammer: value.bind(this, &quot;isProgrammer&quot;)
                });
            }
        },

        divaQuestions: {
            get default() {
                return new DivaQuestions().bindings({
                    divaExpenses: value.bind(this, &quot;divaExpenses&quot;)
                });
            }
        },

        programmerQuestions: {
            get default() {
                return new ProgrammerQuestions().bindings({
                    programmingLanguage: value.bind(this, &quot;programmingLanguage&quot;)
                });
            }
        },

        incomeQuestions: {
            get default() {
                return new IncomeQuestions().bindings({
                    paymentType: value.bind(this, &quot;paymentType&quot;)
                });
            }
        },

        // Derived properties
        get allQuestions() {
            var forms = [this.occupationQuestions];
            if (this.isDiva) {
                forms.push(this.divaQuestions);
            }
            if (this.isProgrammer) {
                forms.push(this.programmerQuestions);
            }
            forms.push(this.incomeQuestions);

            return new ObservableArray(forms);
        },

        get visibleQuestions() {
            return this.allQuestions.slice(0).reverse();
        }
    };

    // Methods
}

customElements.define(&quot;my-app&quot;, MyApp);

</code></pre>
<div line-highlight='134-162,169-175,192-199,209-241,only'></div>
<h2>Next should move to the next window</h2>
<h3>The problem</h3>
<p>In this section, we will make it so when someone clicks the <code>Next</code>
button in a modal, the next modal window will be displayed.</p>
<h3>What you need to know</h3>
<p>We can use a index of which question we have answered to know which
questions should be returned by <code>visibleQuestions</code>.</p>
<p>The following creates a counting index and a method that increments it:</p>
<pre><code class="language-js">class MyModals extends StacheElement {
  // ...
  static props = {
    questionIndex: { default: 0 }
  };

  next() {
    this.questionIndex += 1;
  }
}
</code></pre>
<p>To pass the <code>next</code> function to a component, you must make sure that the right <code>this</code>
is preserved.  You can do that with <code>function.bind</code> like:</p>
<pre><code class="language-js">new ProgrammerQuestions().bindings({
  programmingLanguage: value.bind(this, &quot;programmingLanguage&quot;),
  next: this.next.bind(this)
});
</code></pre>
<h3>The solution</h3>
<pre><code class="language-js">import {
    ObservableArray,
    stache,
    stacheConverters,
    StacheElement,
    type,
    value
} from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

stache.addConverter(stacheConverters);

class OccupationQuestions extends StacheElement {
    static view = `
    &lt;h3&gt;Occupation&lt;/h3&gt;
    &lt;div class=&quot;content&quot;&gt;
      &lt;p&gt;
        Are you a diva?
        &lt;input id=&quot;diva-yes&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, true)&quot;&gt;
        &lt;label for=&quot;diva-yes&quot;&gt;yes&lt;/label&gt;

        &lt;input id=&quot;diva-no&quot; type=&quot;radio&quot; checked:bind=&quot;equal(this.isDiva, false)&quot;&gt;
        &lt;label for=&quot;diva-no&quot;&gt;no&lt;/label&gt;
      &lt;/p&gt;
      &lt;p&gt;
        Do you program?
        &lt;input
          id=&quot;programmer-yes&quot;
          type=&quot;radio&quot;
          checked:bind=&quot;equal(this.isProgrammer, true)&quot;
        &gt;
        &lt;label for=&quot;programmer-yes&quot;&gt;yes&lt;/label&gt;

        &lt;input
          id=&quot;programmer-no&quot;
          type=&quot;radio&quot;
          checked:bind=&quot;equal(this.isProgrammer, false)&quot;
        &gt;
        &lt;label for=&quot;programmer-no&quot;&gt;no&lt;/label&gt;
      &lt;/p&gt;
      &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
    &lt;/div&gt;
  `;

    static props = {
        isDiva: Boolean,
        isProgrammer: Boolean
    };
}

customElements.define(&quot;occupation-questions&quot;, OccupationQuestions);

class DivaQuestions extends StacheElement {
    static view = `
    &lt;h3&gt;Diva Questions&lt;/h3&gt;
    &lt;div class=&quot;content&quot;&gt;
      &lt;p&gt;Check all expenses that apply:&lt;/p&gt;
      &lt;p&gt;
        &lt;input
          id=&quot;swagger&quot;
          type=&quot;checkbox&quot;
          checked:bind=&quot;boolean-to-inList('Swagger', this.divaExpenses)&quot;
        &gt;
        &lt;label for=&quot;swagger&quot;&gt;Swagger&lt;/label&gt;
      &lt;/p&gt;
      &lt;p&gt;
        &lt;input
          id=&quot;fame&quot;
          type=&quot;checkbox&quot;
          checked:bind=&quot;boolean-to-inList('Fame', this.divaExpenses)&quot;
        &gt;
        &lt;label for=&quot;fame&quot;&gt;Fame&lt;/label&gt;
      &lt;/p&gt;
      &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
    &lt;/div&gt;
  `;

    static props = {
        divaExpenses: type.Any
    };
}

customElements.define(&quot;diva-questions&quot;, DivaQuestions);

class ProgrammerQuestions extends StacheElement {
    static view = `
    &lt;h3&gt;Programmer Questions&lt;/h3&gt;
    &lt;div class=&quot;content&quot;&gt;
      &lt;p&gt;What is your favorite language?&lt;/p&gt;
      &lt;p&gt;
        &lt;select value:to=&quot;this.programmingLanguage&quot;&gt;
          &lt;option&gt;C&lt;/option&gt;
          &lt;option&gt;C++&lt;/option&gt;
          &lt;option&gt;Java&lt;/option&gt;
          &lt;option&gt;JavaScript&lt;/option&gt;
        &lt;/select&gt;
      &lt;/p&gt;
      &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Next&lt;/button&gt;&lt;/p&gt;
    &lt;/div&gt;
  `;

    static props = {
        programmingLanguage: String
    };
}

customElements.define(&quot;programmer-questions&quot;, ProgrammerQuestions);

class IncomeQuestions extends StacheElement {
    static view = `
    &lt;h3&gt;Income&lt;/h3&gt;
    &lt;div class=&quot;content&quot;&gt;
      &lt;p&gt;What do you get paid in?&lt;/p&gt;
      &lt;p&gt;
        &lt;select value:bind=&quot;string-to-any(this.paymentType)&quot;&gt;
          &lt;option value=&quot;undefined&quot;&gt;Select a type&lt;/option&gt;
          &lt;option&gt;Peanuts&lt;/option&gt;
          &lt;option&gt;Bread&lt;/option&gt;
          &lt;option&gt;Tamales&lt;/option&gt;
          &lt;option&gt;Cheddar&lt;/option&gt;
          &lt;option&gt;Dough&lt;/option&gt;
        &lt;/select&gt;
      &lt;/p&gt;
      &lt;p&gt;&lt;button on:click=&quot;this.next()&quot;&gt;Finish&lt;/button&gt;&lt;/p&gt;
    &lt;/div&gt;
  `;

    static props = {
        paymentType: type.maybeConvert(String)
    };
}

customElements.define(&quot;income-questions&quot;, IncomeQuestions);

class MyModals extends StacheElement {
    static view = `
    {{# for(component of componentsToShow) }}
      {{# if(component.last) }}
        &lt;div class=&quot;background&quot;&gt;&lt;/div&gt;
      {{/ if }}
      &lt;div
        class=&quot;modal-container&quot;
        style=&quot;margin-top: {{ component.position }}px; margin-left: {{ component.position }}px&quot;
      &gt;
        {{ component.content }}
      &lt;/div&gt;
    {{/ for }}
  `;

    static props = {
        get componentsToShow() {
            const distance = 20;
            const count = this.components.length;
            const start = -150 - distance / 2 * (count - 1);

            return this.components.map(function(component, i) {
                return {
                    position: start + i * distance,
                    content: component,
                    last: i === count - 1
                };
            });
        }
    };
}

customElements.define(&quot;my-modals&quot;, MyModals);

class MyApp extends StacheElement {
    static view = `
    &lt;my-modals components:from=&quot;this.visibleQuestions&quot;&gt;&lt;/my-modals&gt;

    &lt;p&gt;isDiva: {{ this.isDiva }}&lt;/p&gt;
    &lt;p&gt;isProgrammer: {{ this.isProgrammer }}&lt;/p&gt;
    &lt;p&gt;diva expenses: {{ this.divaExpenses.join(', ') }}&lt;/p&gt;
    &lt;p&gt;programmingLanguage: {{ this.programmingLanguage }}&lt;/p&gt;
    &lt;p&gt;paymentType: {{ this.paymentType }}&lt;/p&gt;
  `;

    static props = {
        // Stateful properties
        isDiva: { type: Boolean, default: false },

        divaExpenses: {
            get default() {
                return new ObservableArray();
            }
        },

        isProgrammer: { type: Boolean, default: false },
        programmingLanguage: type.maybeConvert(String),
        paymentType: String,

        occupationQuestions: {
            get default() {
                return new OccupationQuestions().bindings({
                    isDiva: value.bind(this, &quot;isDiva&quot;),
                    isProgrammer: value.bind(this, &quot;isProgrammer&quot;),
                    next: this.next.bind(this)
                });
            }
        },

        divaQuestions: {
            get default() {
                return new DivaQuestions().bindings({
                    divaExpenses: value.bind(this, &quot;divaExpenses&quot;),
                    next: this.next.bind(this)
                });
            }
        },

        programmerQuestions: {
            get default() {
                return new ProgrammerQuestions().bindings({
                    programmingLanguage: value.bind(this, &quot;programmingLanguage&quot;),
                    next: this.next.bind(this)
                });
            }
        },

        incomeQuestions: {
            get default() {
                return new IncomeQuestions().bindings({
                    paymentType: value.bind(this, &quot;paymentType&quot;),
                    next: this.next.bind(this)
                });
            }
        },

        questionIndex: { default: 0 },

        // Derived properties
        get allQuestions() {
            var forms = [this.occupationQuestions];
            if (this.isDiva) {
                forms.push(this.divaQuestions);
            }
            if (this.isProgrammer) {
                forms.push(this.programmerQuestions);
            }
            forms.push(this.incomeQuestions);

            return new ObservableArray(forms);
        },

        get visibleQuestions() {
            return this.allQuestions.slice(this.questionIndex).reverse();
        }
    };

    // Methods
    next() {
        this.questionIndex += 1;
    }
}

customElements.define(&quot;my-app&quot;, MyApp);

</code></pre>
<div line-highlight='198,207,216,225,230,247,252-254,only'></div>
<h2>Result</h2>
<p>When complete, you should have a working multiple modal form like the following CodePen:</p>
<p class="codepen" data-height="426" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="pozKzZo" style="height: 426px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="CanJS 6.0 - Multiple Modals - Final">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/pozKzZo/">
  CanJS 6.0 - Multiple Modals - Final</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

</section>

  


<script type="text/javascript">
  window.docObject = {"src":{"path":"docs/can-guides/commitment/recipes/modals/modals.md"},"description":"This intermediate guide shows how to create a multiple modal form. \n","name":"guides/recipes/modals","title":"Multiple Modals","type":"page","parent":"guides/recipes/intermediate","comment":" ","pathToRoot":"../../.."};
</script>
</article>
      
        <footer><p>CanJS is part of <a href="https://donejs.com" target="_blank">DoneJS</a>. Created and maintained by the core <a href="https://donejs.com/About.html#team" target="_blank">DoneJS team</a> and <a href="https://www.bitovi.com" target="_blank">Bitovi</a>. <strong>Currently 6.4.0.</strong></p>
</footer>
      

  </div>
  <div id="toc-sidebar" class="column">
    <nav>
      <h1 class="hide">On this page</h1>
    </nav>
    <div class="get-help">
      <h1>Get help</h1>
      <ul>
        <li><a href="https://www.bitovi.com/community/slack" target="_blank" class="icon-slack">Chat with us</a></li>
        <li><a href="https://github.com/canjs/canjs/issues/new" target="_blank" class="icon-github">File an issue</a></li>
        <li><a href="https://forums.bitovi.com/c/canjs" target="_blank" class="icon-forums">Ask questions</a></li>
        <li><a href="https://www.bitovi.com/blog/topic/canjs" target="_blank" class="icon-blog">Read latest news</a></li>
      </ul>
    </div>
  </div>
</div>

		
			<script>
				steal = {
				  	instantiated: {
				    	"bundles/bit-docs-site/static.css!$css" : null
				  	}
			  	};
			</script>
			<script type='text/javascript' data-main="bit-docs-site/static" src="../../static/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>

		<!-- root-level elements with attributes necessary for the app -->
		<div path-prefix="../.."></div>

	</body>
</html>
